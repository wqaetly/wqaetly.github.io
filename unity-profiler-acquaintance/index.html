<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity Profiler学习笔记：初识Profile性能分析工具 | 登峰造极者，殊途亦同归。</title><meta name="author" content="烟雨迷离半世殇"><meta name="copyright" content="烟雨迷离半世殇"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言 本系列笔记内容参考自官方文档 什么是Profiler Unity Profiler是一个工具，您可以使用它来获取关于应用程序的性能信息。您可以将它连接到云端的设备或连接到本机器上的设备，以测试应用程序在预期的发布平台上如何运行。您还可以在编辑器中运行它，以在开发应用程序时获得资源分配的信息。[toc] Profiler收集并显示应用程序在CPU、内存、渲染和音频等方面的性能数据。可以定位应用">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity Profiler学习笔记：初识Profile性能分析工具">
<meta property="og:url" content="https://www.lfzxb.top/unity-profiler-acquaintance/index.html">
<meta property="og:site_name" content="登峰造极者，殊途亦同归。">
<meta property="og:description" content="前言 本系列笔记内容参考自官方文档 什么是Profiler Unity Profiler是一个工具，您可以使用它来获取关于应用程序的性能信息。您可以将它连接到云端的设备或连接到本机器上的设备，以测试应用程序在预期的发布平台上如何运行。您还可以在编辑器中运行它，以在开发应用程序时获得资源分配的信息。[toc] Profiler收集并显示应用程序在CPU、内存、渲染和音频等方面的性能数据。可以定位应用">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp">
<meta property="article:published_time" content="2021-02-04T00:00:00.000Z">
<meta property="article:modified_time" content="2021-02-04T00:00:00.000Z">
<meta property="article:author" content="烟雨迷离半世殇">
<meta property="article:tag" content="Unity技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Unity Profiler学习笔记：初识Profile性能分析工具",
  "url": "https://www.lfzxb.top/unity-profiler-acquaintance/",
  "image": "https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp",
  "datePublished": "2021-02-04T00:00:00.000Z",
  "dateModified": "2021-02-04T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "烟雨迷离半世殇",
      "url": "https://www.lfzxb.top/www.lfzxb.top"
    }
  ]
}</script><link rel="shortcut icon" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/AvatarAndBGs/33ec68b7fe1bb742.jpg!webp"><link rel="canonical" href="https://www.lfzxb.top/unity-profiler-acquaintance/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="AhlEJ91V_L12bkwRF1ZS0BbytGCfsjqCX4GXztUluC8"><meta name="baidu-site-verification" content="iRRtEBalDiujISsN"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 6 || hour >= 8
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-7235595771604497',
  enable_page_level_ads: 'true'
});</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-XSL6D8K8G2"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-XSL6D8K8G2')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-XSL6D8K8G2', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":800,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity Profiler学习笔记：初识Profile性能分析工具',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/CustomIcons/iconfontformaliyun.css"><meta name="referrer" content="no-referrer-when-downgrade"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/AvatarAndBGs/33ec68b7fe1bb742.jpg!webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar" loading='lazy'></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">246</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">188</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">56</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-torii-gate"></i><span> 蓬莱仙境</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 白驹过隙</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 包罗万象</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分朋引类</span></a></div><div class="menus_item"><a class="site-page" href="/self/"><i class="fa-fw fas fa-id-card"></i><span> 择交而友</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 一见如故</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/blog2021/202507052331881.png!webp" alt="Logo" loading='lazy'></a><a class="nav-page-title" href="/"><span class="site-name">Unity Profiler学习笔记：初识Profile性能分析工具</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-torii-gate"></i><span> 蓬莱仙境</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 白驹过隙</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 包罗万象</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分朋引类</span></a></div><div class="menus_item"><a class="site-page" href="/self/"><i class="fa-fw fas fa-id-card"></i><span> 择交而友</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 一见如故</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Unity Profiler学习笔记：初识Profile性能分析工具</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-02-04T00:00:00.000Z" title="发表于 2021-02-04 00:00:00">2021-02-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-02-04T00:00:00.000Z" title="更新于 2021-02-04 00:00:00">2021-02-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/">游戏引擎</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/">Unity</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/unity-profiler-acquaintance/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;这篇文章已经&quot;,&quot;messageNext&quot;:&quot;天没维护了，相关内容可能已过时。&quot;,&quot;postUpdate&quot;:&quot;2021-02-04 00:00:00&quot;}" hidden=""></div><div id="postchat_postcontent"><h3 id="前言">前言</h3>
<p>本系列笔记内容参考自官方文档</p>
<h3 id="什么是Profiler">什么是Profiler</h3>
<p>Unity Profiler是一个工具，您可以使用它来获取关于应用程序的性能信息。您可以将它连接到云端的设备或连接到本机器上的设备，以测试应用程序在预期的发布平台上如何运行。您还可以在编辑器中运行它，以在开发应用程序时获得资源分配的信息。[toc] Profiler收集并显示应用程序在CPU、内存、渲染和音频等方面的性能数据。可以定位应用程序中性能需要改进的地方，你可以精确定位你的代码，资产，场景设置,相机渲染，以及Build Setting影响应用程序的性能。它以一系列图表的形式显示结果，因此您可以可视化应用程序性能的峰值发生在何处。</p>
<h3 id="如何查看Profiler">如何查看Profiler</h3>
<p>Window &gt; Analysis &gt; Profiler</p>
<h3 id="包含内容">包含内容</h3>
<ul>
<li>开始使用Profiler窗口
<ul>
<li>分析应用程序</li>
</ul>
</li>
<li>CPU使用分析器模块</li>
<li>呈现分析器模块</li>
<li>内存分析器模块</li>
<li>音频分析器模块</li>
<li>物理性能分析模块</li>
<li>GPU分析器模块</li>
<li>全局光照分析器模块</li>
<li>UI分析器模块</li>
</ul>
<h2 id="开始使用Profiler窗口">开始使用Profiler窗口</h2>
<h3 id="Profiler布局">Profiler布局</h3>
<p><img src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp" alt="" loading='lazy'> A:Profiler控制菜单。使用这些控件可以设置从哪个设备进行分析，以及应该执行哪种分析，在帧之间导航，并开始记录数据。 B:上下文菜单。可选择色盲模式。 C:Profiler模块。这是您可以在应用程序中配置的所有模块的列表。使用该区域顶部的下拉菜单向窗口添加模块。 D:帧图表。此区域包含每个模块的概要文件图表。当您第一次打开分析器时，该区域是空白的，当您开始分析应用程序时，该区域将填充信息。 E:模块详细信息面板。窗口这个区域中的信息会根据您所选择的模块进行更改。例如，当您选择CPU Usage Profiler模块时，它包含一个详细的时间轴，并且切换到Hierarchy视图的选项。当您选择render Profiler模块时，此区域将显示调试信息列表。当您第一次打开分析器时，该区域是空白的，当您开始分析应用程序时，该区域将填充信息。</p>
<h3 id="Profiler顶部菜单栏">Profiler顶部菜单栏</h3>
<p>分析器控件位于工具栏中在分析器窗口的顶部。使用它们来启动或停止记录Profiler数据，并在帧中导航。</p>
<h4 id="Record">Record</h4>
<p>允许此设置在运行应用程序时记录活动模块的分析信息。如果没有启用此按钮，则分析器在运行应用程序时不会收集任何数据。</p>
<h4 id="Deep-Profile">Deep Profile</h4>
<p>深度性能检测能够监测所有C#方法。当您启用此设置时，Unity将检测添加到所有mono调用中，从而允许对脚本进行更详细的研究。看到深层的剖析。</p>
<h4 id="Profile-Editor">Profile Editor</h4>
<p>启用此设置来监测Unity编辑器。这将显示编辑器当前使用的资源。再次单击该按钮以停止分析编辑器。</p>
<h4 id="Attach-to-Player">Attach to Player</h4>
<p>选择监测目标。默认情况下，这被设置为Editor——Unity编辑器。Unity还可以自动检测任何运行在您的网络上或通过USB连接的设备，并在下拉框中显示它们。在下拉框中单击Enter IP，手动输入要配置应用程序的设备的IP地址。有关更多信息，请参见分析应用程序。</p>
<h4 id="Allocation-Callstacks">Allocation Callstacks</h4>
<p>分配调用堆栈要记录用于脚本化内存分配的调用堆栈，请单击此下拉菜单并选择托管分配。启用此选项时分析器记录的帧在GC中有信息。在完整调用堆栈上的Alloc示例将导致托管脚本分配，即使在Deep Profile未激活时也是如此。有关更多信息，请参见CPU使用分析器模块页面的分配callstack部分。</p>
<h4 id="Clear-on-Play">Clear on Play</h4>
<p>当您下次在“播放器”窗口中单击“播放”或连接到新目标设备时，启用此设置可从“分析器”窗口中删除所有数据。</p>
<h4 id="Clear">Clear</h4>
<p>清除分析器窗口中的所有数据。</p>
<h4 id="Load">Load</h4>
<p>将Profiler数据保存到Profiler窗口。您还可以通过Profiler加载已写入文件的二进制配置文件数据。按住Shift键并单击Load按钮将文件内容附加到当前Profile里。</p>
<h4 id="Save">Save</h4>
<p>将分析器数据保存到项目文件夹中的.data文件中。</p>
<h4 id="Transport-controls">Transport controls</h4>
<p>以帧为单位进行导航。 Frame number 帧号指示当前在分析器中查看的帧号。 Back arrow 后退一帧。 Forward arrow 前进一帧。 Current 跳转到最后记录的帧，并使分析器显示实时收集的数据。 <code>为了保持低开销，Unity只每五帧重绘编辑器UI。这将导致一个稍微有些延迟的更新。</code></p>
<h3 id="Deep-Profiling">Deep Profiling</h3>
<p>通常 Profiler只分析显式封装在profilermarker中的代码消耗。这包括从引擎的内部代码到自定义脚本代码的调用的第一个调用堆栈深度，比如MonoBehaviour的Start、Update或类似的方法。如果没有添加显式的ProfilerMarker包裹代码来让它可以被帧图表感知，那么您只能看到Unity API的样例(如果该API能被帧图表感知)。大多数带有性能开销的API调用都是可被帧图表感知的。例如，访问主摄像机通过调用 Camera.main API，它被注册为一个“FindMainCamera”示例，可以在帧图表看到。 当您启用Deep Profiling时，分析器会分析脚本代码的每个部分，并记录所有函数调用，包括至少第一次调用堆栈深度到任何Unity API。这是一些有用的信息，可以帮助您确定代码对应用程序性能的影响，但是它会带来很大的开销。 当你深入剖析你的应用程序时，Unity会将分析器工具注入到你所有的脚本方法中来记录所有的函数调用。这对于理解应用程序代码在何处花费的时间最多很有用。因为需要重新加载程序集来使用深度剖析，所以需要使用-deepprofiling命令行参数启动播放器。 <code>深度剖析是资源密集型的，并且使用大量内存。因此，在进行分析时，应用程序的运行速度会明显变慢。深度剖析更适合使用简单脚本的小型游戏。如果您正在使用复杂的脚本代码，您的应用程序可能根本无法使用深度剖析，而对于许多较大的应用程序，深度剖析可能会使Unity耗尽内存。</code> 如果您遇到问题，其中有太多的样本分析器存储在环缓冲区，它用来流到分析器，然后Unity显示一个错误消息。要增加环缓冲区的大小，可以调整Profiler.maxUsedMemory属性。 如果深度分析导致应用程序的帧率下降到无法运行的程度，那么可以手动分析脚本代码的块，这比深度分析的开销更小。使用profilermarker手动添加标记脚本块所需的工具。数据将出现在CPU Usage Profiler module中。 如果您想找出哪些调用堆栈导致GC（不用Deep Profiling），您可以打开Allocation Callstacks集合。启用 Managed Allocations时，可以在时间轴视图中选择GC.Alloc，或者使用Hierarchy视图中的Show Related Objects面板来查找这些样例的调用堆栈。有关更多信息，请参阅CPU分析器模块页中的分配调用堆栈文档。</p>
<h3 id="Color-blind-mode">Color blind mode</h3>
<p>启用颜色盲模式，使分析器在其图形中使用更高的对比度颜色。这增强了红绿色盲(如后视、前视或三视)用户的可见性。要启用它，请转到Profiler窗口右上角的上下文菜单，并选择色盲模式。</p>
<h3 id="Profiler-modules">Profiler modules</h3>
<p>Profiler窗口的顶部被分成Profiler模块，用于分析游戏的特定区域。 当您配置您的应用程序时，Unity会在相应的图表中显示与每个模块相关的数据。 CPU Usage模块提供了应用程序在每个帧上花费的时间的最佳概述。 其他模块收集更具体的数据，可以帮助您检查更具体的区域，或者监视应用程序的重要部分，比如内存消耗、呈现或音频统计数据。 每个模块都有自己的图表。 当您选择一个模块时，模块详细信息面板将出现在窗口的底部，您可以使用该面板检查模块收集的详细数据。</p>
<h4 id="CPU-Usage">CPU Usage</h4>
<p>显示应用程序在物理、脚本、动画和GC等领域花费最多时间的概览。 此模块包含关于应用程序的广泛概要信息，您可以使用它来决定进一步使用哪些模块来研究应用程序中的更具体问题。这个模块总是活动的，即使您关闭它。</p>
<h4 id="GPU-usage">GPU usage</h4>
<p>显示与图形处理相关的信息。 默认情况下，这个模块不是活动的，因为它有很高的开销。</p>
<h4 id="Rendering">Rendering</h4>
<p>显示有关Unity如何在应用程序中呈现图形的信息，包括关于静态和动态批处理的信息、以及渲染流水线中的SetPass和Draw Call、三角形和顶点。</p>
<h4 id="Memory">Memory</h4>
<p>显示关于Unity如何在应用程序中分配内存的信息。 这对于了解脚本分配(GC.Alloc)如何导致垃圾收集，或者了解应用程序的资产内存使用随时间的变化趋势特别有用。</p>
<h4 id="Audio">Audio</h4>
<p>显示与应用程序中的音频相关的信息，例如何时以及有多少音频源 播放，音频系统需要多少CPU使用，以及有多少内存分配给它。</p>
<h4 id="Video">Video</h4>
<p>在应用程序中显示与视频相关的信息。</p>
<h4 id="Physics">Physics</h4>
<p>在应用程序中显示物理引擎提供的有关物理的信息</p>
<h4 id="Physics-2D">Physics (2D)</h4>
<p>与物理分析器模块类似，该模块显示物理引擎如何在应用程序中处理2D物理。</p>
<h4 id="网络消息-不推荐使用">网络消息(不推荐使用)</h4>
<p>显示关于多层高级API发送或接收的低层数据包和消息的信息。 注意:不推荐使用多人游戏高级API。</p>
<h4 id="网络操作-不推荐使用">网络操作(不推荐使用)</h4>
<p>显示关于多玩家高级API发送和接收的消息中包含哪些类型或操作的细粒度信息，例如传输了多少syncvar或命令。 注意:不推荐使用多人游戏高级API。</p>
<h4 id="UI">UI</h4>
<p>显示有关Unity如何处理应用程序的UI批处理的信息，包括为什么以及如何对项目进行批处理。</p>
<h4 id="UI-Details">UI Details</h4>
<p>UI细节类似于UI模块，此模块的图表添加了有关批处理和顶点计数的数据，以及包含触发UI更改的用户输入事件信息的标记。</p>
<h4 id="Global-Illumination">Global Illumination</h4>
<p>显示关于Unity在应用程序的全局照明照明子系统上花费了多少CPU资源的信息。</p>
<h3 id="Profiler-module-overhead">Profiler module overhead</h3>
<p>一些分析器模块有很大的数据收集开销，比如GPU、UI和音频分析器模块。为了防止这些模块影响应用程序的性能，您可以单击模块右上角的close按钮(x)来停用它。这将从窗口中删除模块，停止分析器收集模块的数据，并降低分析器的开销。 <code>这不适用于CPU Usage模块，因为其他模块依赖CPU Usage模块，所以CPU Usage模块即使在非活动状态下也会收集数据。</code> 要添加模块，请选择add Profiler下拉框并选择要激活的Profiler。当您从下拉菜单中选择Profiler模块时，它将开始收集数据，但不会显示它不活动期间的任何数据。 为了避免GPU分析器模块的开销，它在默认情况下是不活动的。<code>GPU分析器模块必须在应用程序开始时处于活动状态</code>，才能连接到图形驱动程序。如果您稍后添加它，它对大多数平台是无效的，并且分析器显示消息“显卡驱动程序不支持GPU概要(或者由于驱动程序bug而禁用了它)”。 如果您想要Profiler收集数据，请用Profiler.logFile API将数据发送到磁盘，而不是通过Profiler窗口。您可以通过Profiler.SetAreaEnabled()关闭Profiler模块。 通过外部IDE调试脚本的一些设置也可能造成开销。要避免这种开销并获得更精确的测量，请禁用编辑器附加设置(菜单:Preferences &gt;External Tools)。类似地，当您分析构建游戏时（出包），打开Build Settings并禁用Script Debugging以避免这种开销。</p>
<h3 id="Profiler-frame-charts-Profiler帧图表">Profiler frame charts(Profiler帧图表)</h3>
<p>Profiler窗口的上部逐帧显示性能数据。当您运行应用程序时，分析器会记录每一帧的数据。Profiler窗口显示其概要文件中最近300帧。当您单击Profiler窗口的Profiler frame图表区域时，将出现一条白线，突出显示应用程序的一帧。要在各个帧之间导航，请点击Profiler顶部工具栏中的箭头。 Unity自动管理图表的垂直比例，图表试图填充窗口的垂直空间。要查看图表中的更多细节，您可以删除其他分析器模块，或者您可以拖动图表和详细统计区域之间的分割器，以增加图表的屏幕区域。 要在图表中切换隐藏和显示各个模块信息，请单击其模块中其标签旁边的彩色方块（纯黑代表隐藏，彩色代表启用）。这对于确定峰值的原因很有用。在堆叠图表中，例如CPU使用情况分析器的图表中，您可以重新排列度量标签，以影响堆叠顺序。这可以使图表更清晰。 每个Profiler模块收集不同的性能数据指标，并将它们显示在单独的图表中。当您单击一个帧时，Unity会在Profiler窗口下半部分的Module details窗格中显示关于框架的更多细节。此窗口中的详细信息的类型取决于您选择的概要文件模块。</p>
<h3 id="Command-line-arguments-命令行参数">Command line arguments(命令行参数)</h3>
<p>如果您从命令行启动built Playe或Unity编辑器(例如Windows上的命令提示符、macOS上的终端、Linux shell或Android上的adb)，您可以传递命令行参数来配置一些分析器设置。</p>
<h4 id="deepprofiling">-deepprofiling</h4>
<p>在内置播放器中启用深度剖析。这只适用于基于Mono脚本</p>
<h4 id="profilestartup">-profilestartup</h4>
<p>监测播放器或编辑器的启动。当您对播放器使用这个参数时，它与在构建设置中启用自动连接分析器选项来构建播放器具有相同的效果。 当您对编辑器使用此参数时，它将在编辑器启动时开始在Profiler窗口中收集和显示Profiler信息。</p>
<h4 id="profiler-maxusedmemory">-profiler-maxusedmemory</h4>
<p>对于播放器是16MB，对于编辑器是256MB。您可以使用这个参数在启动时将maxUsedMemory参数设置为自定义大小(例如，-profiler-maxusedmemory 16777216)。大小以字节为单位设置。</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="www.lfzxb.top">烟雨迷离半世殇</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.lfzxb.top/unity-profiler-acquaintance/">https://www.lfzxb.top/unity-profiler-acquaintance/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://www.lfzxb.top" target="_blank">登峰造极者，殊途亦同归。</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Unity%E6%8A%80%E6%9C%AF/">Unity技术</a></div><div class="post-share"><div class="social-share" data-image="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-window-layout.png!webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175314.png!webp" target="_blank"><img class="post-qr-code-img" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175314.png!webp" alt="微信" loading='lazy'></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175304.png!webp" target="_blank"><img class="post-qr-code-img" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175304.png!webp" alt="支付宝" loading='lazy'></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7235595771604497" data-ad-slot="9104433828"></ins><script> (adsbygoogle = window.adsbygoogle || []).push({});</script></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/unity-profiler-cpu-usage-profiler-module/" title="Unity Profiler学习笔记：CPU使用分析器模块"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/09/profiler-cpu-timeline-view.png!webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post" loading='lazy'><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Unity Profiler学习笔记：CPU使用分析器模块</div></div><div class="info-2"><div class="info-item-1">CPU Usage Profiler module CPU使用分析器模块的图表显示了在应用程序中花费的时间。它包含应用程序花费时间的所有重要领域的概述，比如渲染,它的脚本和动画[toc]。本文包括: - CPU使用图表 - CPU使用模块详细信息窗格 - Timeline视图 - 层次结构和原始层次结构视图 - 常见的样品 - 性能警告 - 分配调用堆栈 - 只有在编辑器模式下才会出现的样例 Chart categories（图表类） CPU使用分析器模块的图表跟踪应用程序主线程上花费的时间。时间花费分为九类。您可以通过在图表的图例中拖放类别来更改图表中的类别顺序。您还可以单击类别的彩色图例来切换其显示。 Rendering（渲染） 应用程序在渲染图形上花费的时间。 Scripts（脚本） 应用程序在运行脚本上花费的时间。 Physics（物理） 应用程序在物理引擎上花费的时间 Animation（动画） 您的应用程序在动画化SkinnedMeshRenderers、GameObjects上花费的时间 以及应用程序中的其他组件。这还包括用于系统动画和Animator组件的一些计算...</div></div></div></a><a class="pagination-related" href="/unity-dots-using-ecs-create-gameplay/" title="Unity DOTS：使用ECS进行GamePlay开发"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/typoraImages/image-20200817093035244.png!webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post" loading='lazy'><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Unity DOTS：使用ECS进行GamePlay开发</div></div><div class="info-2"><div class="info-item-1">本节包含有关如何在Unity Editor中创建基于DOTS的游戏和其他应用程序的信息。它还涵盖了ECS提供的可帮助您实现游戏功能的systems和components。 该systems包括：  Unity.Transforms：提供用于定义世界空间变换，3D对象层次结构以及管理它们的systems的components。 Unity.Hybrid.Renderer：提供components和systems以在Unity运行时中渲染ECS entities。  GamePlayer支持包 DOTS中的某些游戏功能需要额外的程序包来支持它们。有关需要其他软件包的功能列表，请参见下表。    Feature Packages     DOTS ECS com.unity.entities   Rendering com.unity.rendering.hybrid   - Hybrid Renderer V2 com.unity.render-pipelines.high-definition or com.unity.render-pipelines.universal   - ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/a-visual-tool-for-npbahave/" title="为NPBehave而生的可视化编辑器介绍"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2020/01/QQ截图20200125144426.png!webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2021-01-01</div><div class="info-item-2">为NPBehave而生的可视化编辑器介绍</div></div><div class="info-2"><div class="info-item-1">介绍 什么是NPBehave？https://www.lfzxb.top/npbehave_doc/ 使用到的库 ET：一个基于C#的游戏客户端，服务端框架！ Node_Editor_Framework：一个强大的可视化工具！ Odin：Unity编辑器拓展神器！ 编辑器截图 这是一个官方例子的可视化版本  支持导出配置文件，供客户端或者服务端读取  运行结果与官方示例一致  使用方法 1.在Unity编辑器的菜单栏，选择Tools/其他实用工具/多功能可视化编辑器即可进入编辑界面 2.然后这样可以创建一个Canvas  3.随便找个空地进行右击  4.鼠标左键点击某一个数据结点即可在Inspector面板显示其包含的数据  5.然后按照自己想要的结果把他们连接起来 6.鼠标左键点击一个空地，即可调出导出配置界面，然后即可进行导出工作。 7.最后在代码里创建自己想要的行为树，Start即可，其中的ID即为我们导出配置时上面显示的根节点ID！ 12NP_RuntimeTree npRuntimeTree = NP_RuntimeTreeFactory.CreateNpRuntime...</div></div></div></a><a class="pagination-related" href="/achieve-lol-attack-speed/" title="理解并实现LOL中的攻速机制"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/blog2021/20210907003938.png!webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2021-01-01</div><div class="info-item-2">理解并实现LOL中的攻速机制</div></div><div class="info-2"><div class="info-item-1">前言 攻速机制是Moba游戏中非常重要的机制之一，他会和状态机制，Buff机制产生联系，但是网上却少有详细介绍攻速机制并实现的文章，故有此文。 名词定义 因为为了描述清楚攻速机制需要有一些专有名词，为了避免歧义，本文中的名词及其相关释义如下所示（下面提到的所有概念均为我们逻辑层概念，和动画没有任何关系）   基本攻速：也即基础攻击间隔（BAT）的倒数，即两次攻击之间的间隔时长，比如一个英雄BAT为0.5，即0.5s攻击一次，那么它的基本攻速就是2，大部分英雄基本攻速不一样   攻速收益：对于攻速加成的实际转换比例，比如一双攻速鞋+35%攻速，如果一个英雄攻速收益是50%，那么他真正获得的额外攻速就是17.5%，大部分攻速收益不一样   额外攻速：是指通过Buff，装备，技能，等级成长获得的攻速，计算公式为：额外攻速 = 额外攻速加成 * 攻速收益   总攻速：计算公式为：最终攻速 = 基本攻速 + 额外攻速   基础攻击前摇：攻击打出伤害之前的时间段，在此时间段中对攻击指令进行主动/被动取消都将终止此次攻击，并且没有伤害，大部分英雄基础攻击前摇不一样   攻击前摇：计算公式：基础...</div></div></div></a><a class="pagination-related" href="/blackboard-0gc-write/" title="实现行为树黑板模块0GC赋值功能"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/blog2021/202509232351560.webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2021-01-01</div><div class="info-item-2">实现行为树黑板模块0GC赋值功能</div></div><div class="info-2"><div class="info-item-1">引言 因为行为树中的黑板模块可以存储任意类型的数据，并且默认是以System.Object存储的，所以我们在进行赋值的时候，难免会出现装箱的情况，偶尔的一次装箱也没什么，如果是每帧的装箱。。。不会真有人能忍吧，不会吧，不会吧，不会吧 再多说几句，目前我在使用行为树做技能编辑器，之所以可能会出现上面说的每帧的装箱的情况，是因为我打算把行为树中所有的关键数据都放到黑板中，这样有很多好处  方便状态预测/回滚 方便Debug，逐帧调试 方便满足策划的所见即所得需求  上面说的这些我会在实现之后再和大家分享，有兴趣的可以先关注我的开源Moba项目  正文 要实现黑板赋值的0GC，就是要把他的装箱那一步给去掉，所以理所当然的，我们要自己封装数据类型 基类 1234public abstract class ANP_BBValue{    public abstract Type NP_BBValueType { get; }} 12345public interface INP_BBValue&lt;T&gt;{    T GetValue...</div></div></div></a><a class="pagination-related" href="/box2d-advance/" title="Box2D篇：进阶知识整合（刚体操作，碰撞处理）"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/07/QQ截图20190706131958.png!webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2021-01-01</div><div class="info-item-2">Box2D篇：进阶知识整合（刚体操作，碰撞处理）</div></div><div class="info-2"><div class="info-item-1">刚体操作 DestroyFixture(b2Fixture) 删除b2Fixture组件 通过b2World.Raycast和b2World.QueryAABB来获取要删除的b2Fixture组件 ApplyForce(force,point) 添加作用力到刚体上 force：要施加的力的大小，单位是N point：要施加力的点,这是一个全局坐标（世界坐标） ApplyImpulse(impulse,point) 添加冲量,单位是N*m。 ApplyTorque(Torque) Torque:扭力大小，为正表示顺时针，为负表示逆时针，单位kg*rad/s GetLoaclXXX,GetWorldXXX 用来实现本地坐标，向量和全局坐标，向量之间的转换 GetLocalCenter 获取刚体重心的本地坐标 GerWorldCenter 获取刚体重心的全局坐标 GetLoalPoint(worldPoint) 获取全局坐标点worldpoint在刚体坐标系统中的本地坐标 GetWorldPoint(localPoint) 获取本地坐标点localPoint在舞台坐标系统中的全局坐标 ...</div></div></div></a><a class="pagination-related" href="/box2d-baseknowledge/" title="Box2D篇：基础知识整合"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/07/QQ截图20190705163811.png!webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2021-01-01</div><div class="info-item-2">Box2D篇：基础知识整合</div></div><div class="info-2"><div class="info-item-1">初入Box2D 创建Box2D物理世界 12// Vector2为x与y方向加速度World = new World(new Vector2(0, -9.8f)); 明确换算单位 Box2D中的计量单位是米（m）,而目前大部分的平台渲染都是基于像素px的，所以在进行渲染计算时，要注意对坐标或形状尺寸进行转换。通常 $$1m=30px$$ 开启2D模拟 调用World.Step(float timeStep);函数进行世界的模拟与刷新。 注意Box2D中计时单位是秒，不是帧！ timeStep 每次调用刷新函数间隔，由于Box2D世界计时单位是秒，所以要进行转化。 比如你游戏想运行在60帧，即一秒刷新60次，每次耗时1/60秒，那么timeStep = 1/60; 初识刚体 什么是刚体 一个固态的物体，他至少包含看得见或者摸得着这两个特性之一。 b2Body是Box2D的核心类，是学习Box2D的基础，也是重中之重。 创建刚体 创建一个刚体，不单单是b2Body的事情，还要创建多个对象，包括b2BodyDef和b2FixtureDef对象，然后在这些对象的协同合作下，完成刚体的创建...</div></div></div></a><a class="pagination-related" href="/box2d-collisionrelationvisualeditor/" title="Box2D篇：碰撞关系可视化编辑器"><img class="cover" src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/08/QQ截图20190801215422.png!webp" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2019-08-01</div><div class="info-item-2">Box2D篇：碰撞关系可视化编辑器</div></div><div class="info-2"><div class="info-item-1">前言 我们在游戏中难免会有碰撞检测然后进行处理这一需求，那么，错综复杂的碰撞关系无疑就成了一大设计难点，规模和数量少点还好说，直接写在代码即可，规模一大，就需要借助excel的帮助下，但是也免不了使用true/false作为标识，在修改，拓展的时候麻烦，在读取数据的时候会造成不必要的空间浪费。（我明明没可能和这个东西碰撞，为什么还要单独给他一个bool字段呢？）。所以我就想着，能不能做个东西，稍微缓解一下这个问题，于是就有了今天这篇文章。 相关知识点  Node_Editor_Framework，开源地址:https://github.com/Seneral/Node_Editor_Framework Odin相关特性 Bson序列化反序列化数据  正文 先放一张编辑器图片  这就是使用了Node_Editor_Framework的编辑器，我们可以看到，在里面对不同的碰撞体进行了分组（分类）操作，然后根据需求进行连线即可。 至于数据的处理，我提供了很多一键傻瓜式按钮，只需要点一下就行。 创建数据  首先是Create Group，此操作将会创建一个Group，所有在此Group中...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFProfiler"><span class="toc-number">2.</span> <span class="toc-text">什么是Profiler</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8BProfiler"><span class="toc-number">3.</span> <span class="toc-text">如何查看Profiler</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E5%90%AB%E5%86%85%E5%AE%B9"><span class="toc-number">4.</span> <span class="toc-text">包含内容</span></a></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8Profiler%E7%AA%97%E5%8F%A3"><span class="toc-number"></span> <span class="toc-text">开始使用Profiler窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiler%E5%B8%83%E5%B1%80"><span class="toc-number">1.</span> <span class="toc-text">Profiler布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiler%E9%A1%B6%E9%83%A8%E8%8F%9C%E5%8D%95%E6%A0%8F"><span class="toc-number">2.</span> <span class="toc-text">Profiler顶部菜单栏</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Record"><span class="toc-number">2.1.</span> <span class="toc-text">Record</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Deep-Profile"><span class="toc-number">2.2.</span> <span class="toc-text">Deep Profile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Profile-Editor"><span class="toc-number">2.3.</span> <span class="toc-text">Profile Editor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Attach-to-Player"><span class="toc-number">2.4.</span> <span class="toc-text">Attach to Player</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Allocation-Callstacks"><span class="toc-number">2.5.</span> <span class="toc-text">Allocation Callstacks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Clear-on-Play"><span class="toc-number">2.6.</span> <span class="toc-text">Clear on Play</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Clear"><span class="toc-number">2.7.</span> <span class="toc-text">Clear</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Load"><span class="toc-number">2.8.</span> <span class="toc-text">Load</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Save"><span class="toc-number">2.9.</span> <span class="toc-text">Save</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Transport-controls"><span class="toc-number">2.10.</span> <span class="toc-text">Transport controls</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deep-Profiling"><span class="toc-number">3.</span> <span class="toc-text">Deep Profiling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Color-blind-mode"><span class="toc-number">4.</span> <span class="toc-text">Color blind mode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiler-modules"><span class="toc-number">5.</span> <span class="toc-text">Profiler modules</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CPU-Usage"><span class="toc-number">5.1.</span> <span class="toc-text">CPU Usage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GPU-usage"><span class="toc-number">5.2.</span> <span class="toc-text">GPU usage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rendering"><span class="toc-number">5.3.</span> <span class="toc-text">Rendering</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Memory"><span class="toc-number">5.4.</span> <span class="toc-text">Memory</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Audio"><span class="toc-number">5.5.</span> <span class="toc-text">Audio</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Video"><span class="toc-number">5.6.</span> <span class="toc-text">Video</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Physics"><span class="toc-number">5.7.</span> <span class="toc-text">Physics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Physics-2D"><span class="toc-number">5.8.</span> <span class="toc-text">Physics (2D)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%B6%88%E6%81%AF-%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8"><span class="toc-number">5.9.</span> <span class="toc-text">网络消息(不推荐使用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C-%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8"><span class="toc-number">5.10.</span> <span class="toc-text">网络操作(不推荐使用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UI"><span class="toc-number">5.11.</span> <span class="toc-text">UI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UI-Details"><span class="toc-number">5.12.</span> <span class="toc-text">UI Details</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Global-Illumination"><span class="toc-number">5.13.</span> <span class="toc-text">Global Illumination</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiler-module-overhead"><span class="toc-number">6.</span> <span class="toc-text">Profiler module overhead</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiler-frame-charts-Profiler%E5%B8%A7%E5%9B%BE%E8%A1%A8"><span class="toc-number">7.</span> <span class="toc-text">Profiler frame charts(Profiler帧图表)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-line-arguments-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">Command line arguments(命令行参数)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#deepprofiling"><span class="toc-number">8.1.</span> <span class="toc-text">-deepprofiling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#profilestartup"><span class="toc-number">8.2.</span> <span class="toc-text">-profilestartup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#profiler-maxusedmemory"><span class="toc-number">8.3.</span> <span class="toc-text">-profiler-maxusedmemory</span></a></li></ol></li></ol></li></div></div></div></div></main><footer id="footer" style="background-image: url(https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/blog2021/20210912135042.png!webp);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">©&nbsp;2025 - 2026 By 烟雨迷离半世殇</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div><div class="footer_custom_text">2018-2025 lfzxb.top版权所有<br><span id="realtime_duration"></span><br><a href="https://beian.miit.gov.cn" target="_blank">苏ICP备19003389号-1</a><br><img src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/blog2021/20210912135040.png!webp" alt="公网安备字" loading='lazy'><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32032102000159" target="_blank">苏公网安备 32032102000159号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="fluid-control-btn" type="button" title="流体模拟控制台"><i class="fas fa-water"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: '508db6cacf197b7363d1',
      clientSecret: '2882a0b135eaa72b3ab256e37249c50733ce9e91',
      repo: 'wqaetly',
      owner: 'wqaetly',
      admin: ['wqaetly'],
      updateCountCallback: commentCount,
      proxy: "https://strong-caramel-969805.netlify.app/github_access_token",
      ...option,
      id: isShuoshuo ? path : (option && option.id) || '43083d263bb18097fd9309bf77d0fcf2'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script src="https://cdn.jsdelivr.net/npm/dayjs/dayjs.min.js"></script><script src="https://cdn.jsdelivr.net/npm/dayjs/plugin/duration.min.js"></script><script src="/js/realtime.js"></script><script>window.FLUID_CONFIG={enable:true,mobile:false,z_index:-1,SIM_RESOLUTION:128,DYE_RESOLUTION:1024,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:0.2,PRESSURE:0.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:0.25,SPLAT_FORCE:6000,SHADING:true,COLORFUL:true,COLOR_UPDATE_SPEED:10,PAUSED:false,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:false,BLOOM:true,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:0.8,BLOOM_THRESHOLD:0.6,BLOOM_SOFT_KNEE:0.7,SUNRAYS:true,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1.0,interaction:{enable:true}};</script><script src="/js/fluid-simulation/dat.gui.min.js"></script><script src="/js/fluid-simulation/fluid-core.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="docsearch-wrap"><div id="docsearch" style="display:none"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css/dist/style.min.css"><script src="https://cdn.jsdelivr.net/npm/@docsearch/js/dist/umd/index.min.js"></script><script>(() => {
  docsearch(Object.assign({
    appId: 'D3U85CARGJ',
    apiKey: '3edfc5bada9a140d5a4126085596f99c',
    indexName: 'blogsearch',
    container: '#docsearch',
    placeholder: '搜索文章',
  }, null))

  const handleClick = () => {
    document.querySelector('.DocSearch-Button').click()
  }

  const searchClickFn = () => {
    btf.addEventListenerPjax(document.querySelector('#search-button > .search'), 'click', handleClick)
  }

  searchClickFn()
  window.addEventListener('pjax:complete', searchClickFn)
})()</script></div></div>
    <link rel="stylesheet" href="https://ai.tianli0.top/static/public/postChatUser_summary.min.css">
    <script>
        let tianliGPT_key = 'S-TY6LYYCZMYV6UADE';
        let tianliGPT_postSelector = '#article-container';
        let tianliGPT_Title = '烟雨迷离半世殇（人机版）为您总结文章';
        let tianliGPT_postURL = 'https://www.lfzxb.top/*/';
        let tianliGPT_blacklist = '';
        let tianliGPT_wordLimit = '50000';
        let tianliGPT_typingAnimate = false;
        let tianliGPT_theme = 'menghuan';
        var postChatConfig = {
          backgroundColor: "#3e86f6",
          bottom: "16px",
          left: "16px",
          fill: "#FFFFFF",
          width: "44px",
          frameWidth: "375px",
          frameHeight: "600px",
          defaultInput: false,
          upLoadWeb: true,
          showInviteLink: true,
          userTitle: "烟雨迷离半世殇（人机版）为您服务",
          userDesc: "在下定知无不言",
          addButton: true,
          beginningText: "这篇文章介绍了",
          userIcon: "https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/AvatarAndBGs/33ec68b7fe1bb742.jpg!webp",
          userMode: "magic",
          defaultChatQuestions: ["你好","你是谁"],
          defaultSearchQuestions: ["视频压缩","设计"]
        };
    </script>
    <script data-postchat_key="S-TY6LYYCZMYV6UADE" src="https://ai.tianli0.top/static/public/postChatUser_summary.min.js"></script>
  </body></html>